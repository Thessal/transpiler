{
    "system_context": [
        "You are an expert quantitative researcher.",
        "### LANGUAGE SPEC ###",
        "The description of in-house language: ",
        "* Paradigm: Declarative, strongly typed, functional (no side effects, immutable definitions).",
        "* Identifiers must start with a letter or underscore, followed by alphanumerics.",
        "* Keywords: ",
        " - Assignment: =",
        " - Type Annotation: :",
        " - Generics: <>",
        " - Function arguments group: ()",
        " - Function arguments separators: ,",
        " - Function definition block: {}",
        "* Types:",
        " - Basic types: Float, Int, Bool, String",
        " - Generic types:",
        "  - Signal<T>: Represents a time-series or data stream where T is the underlying atomic type.",
        "               Example: Signal<Float>, Signal<Int>",
        "* Statements:",
        " - Variable declaration: name : Type = Expression",
        " - Function declaration: function_name: output_type(arg1: input_type_1, arg2: input_type_2, ...) = { BodyExpression }",
        "  - BodyExpression is a block of assignments separated by newline",
        "  - Assignment to variable named \"result\" is used as a function return value.",
        "* Expressions:",
        " - Examples of literals: 10., \"data\", True",
        " - Function calls are always keyworded: func(key=val, period=10)",
        "* Intrinsic Operators:",
        " Signatures and Descriptions are listed below.",
        " - data\t(id: String)-> Signal<Float>\tSource node. Loads raw market data by ID.",
        " - ts_mean\t(signal: Either(Signal<Float>|Signal<Int>), period: Int) -> Signal<Float>\tCalculates time-series rolling mean.",
        " - divide\t(dividend: Either(Signal<Float>|Float), divisor: Either(Signal<Float>|Float)) -> Signal<Float>\tElement-wise division.",
        " - multiply\t(Signal<Float>, Signal<Float>) -> Signal<Float>\tElement-wise multiplication.",
        " - to_int\t(signal: Signal<Float>, round: Bool) -> Signal<Int>\tCasts/rounds a float signal to an integer signal.",
        "* Scoping",
        " - Immutable Bindings: Once a variable x is defined, it cannot be redefined in the same scope.",
        " - Functions have access to new local scope containing the call arguments.",
        "### SUPPORTED FUNCTIONS ###",
        "abs: Signal<Float> (signal: Either(Signal<Float>, Float))",
        "add: Signal<Float> (x: Either(Signal<Float>, Float), y: Either(Signal<Float>, Float))",
        "clip: Signal<Float> (signal: Either(Signal<Float>, Float), lower: Float, upper: Float)",
        "const: Signal<Float> (value: Float)",
        "cs_rank: Signal<Float> (signal: Signal<Float>)",
        "cs_zscore: Signal<Float> (signal: Signal<Float>)",
        "divide: Signal<Float> (dividend: Either(Signal<Float>, Float), divisor: Either(Signal<Float>, Float))",
        "greater: Signal<Float> (signal: Either(Signal<Float>, Float), thres: Either(Signal<Float>, Float))",
        "less: Signal<Float> (signal: Either(Signal<Float>, Float), thres: Either(Signal<Float>, Float))",
        "max: Signal<Float> (x: Either(Signal<Float>, Float), y: Either(Signal<Float>, Float))",
        "mid: Signal<Float> (x: Either(Signal<Float>, Float), y: Either(Signal<Float>, Float))",
        "min: Signal<Float> (x: Either(Signal<Float>, Float), y: Either(Signal<Float>, Float))",
        "multiply: Signal<Float> (x: Either(Signal<Float>, Float), y: Either(Signal<Float>, Float))",
        "subtract: Signal<Float> (x: Either(Signal<Float>, Float), y: Either(Signal<Float>, Float))",
        "tail_to_nan: Signal<Float> (signal: Either(Signal<Float>, Float), lower: Float, upper: Float)",
        "tradewhen: Signal<Float> (signal: Signal<Float>, enter: Either(Signal<Float>,Int), exit: Either(Signal<Float>,Int), period: Int)",
        "ts_argmax: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_argmin: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_argminmax: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_decay_exp: Signal<Float> (signal: Signal<Float>, period: Either(Signal<Float>,Int))",
        "ts_decay_linear: Signal<Float> (signal: Signal<Float>, period: Either(Signal<Float>,Int))",
        "ts_delay: Signal<Float> (signal: Signal<Float>, period: Either(Signal<Float>,Int))",
        "ts_diff: Signal<Float> (signal: Signal<Float>, period: Either(Signal<Float>,Int))",
        "ts_ffill: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_mae: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_max: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_mean: Signal<Float> (signal: Signal<Float>, period: Either(Signal<Float>,Int))",
        "ts_min: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_rank: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_std: Signal<Float> (signal: Signal<Float>, period: Int)",
        "ts_sum: Signal<Float> (signal: Signal<Float>, period: Either(Signal<Float>,Int))",
        "ts_zscore: Signal<Float> (signal: Signal<Float>, period: Int)",
        "where: Signal<Float> (condition: Signal<Float>, val_true: Either(Signal<Float>,Int), val_false: Either(Signal<Float>,Int))"
    ],
    "system_context_args": {},
    "user_prompt": [
        "### STRATEGY IDEA ###",
        "{idea_text}",
        "",
        "Generate a JSON response containing a list of `strategies`.",
        "Provide **at least 10 distinct implementations**.",
        "Vary parameters, execution logic, and edge case handling.",
        "When you write the code, refer the language spec and and the references."
    ],
    "user_prompt_args": {
        "idea_text": "idea to implement"
    }
}